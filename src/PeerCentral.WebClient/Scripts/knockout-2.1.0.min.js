(function(b,d,c,e){var a=true;!function(f){if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){var g=module.exports||exports;f(g)}else{if(typeof define==="function"&&define.amd){define(["exports"],f)}else{f(b.ko={})}}}(function(l){var i=typeof l!=="undefined"?l:{};i.exportSymbol=function(u,t){var s=u.split(".");var q=i;for(var r=0;r<s.length-1;r++){q=q[s[r]]}q[s[s.length-1]]=t};i.exportProperty=function(q,s,r){q[s]=r};i.version="2.1.0";i.exportSymbol("version",i.version);i.utils=new (function(){var q=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;var r={},A={};var B=/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents";r[B]=["keyup","keydown","keypress"];r.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var w in r){var x=r[w];if(x.length){for(var v=0,s=x.length;v<s;v++){A[x[v]]=w}}}var u={propertychange:true};var t=(function(){var E=3,F=d.createElement("div"),D=F.getElementsByTagName("i");while(F.innerHTML="<!--[if gt IE "+(++E)+"]><i></i><![endif]-->",D[0]){}return E>4?E:e}());var z=t===6,y=t===7;function C(D,E){if((i.utils.tagNameLower(D)!=="input")||!D.type){return false}if(E.toLowerCase()!="click"){return false}var F=D.type;return(F=="checkbox")||(F=="radio")}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(D,F){for(var E=0,G=D.length;E<G;E++){F(D[E])}},arrayIndexOf:function(D,G){if(typeof Array.prototype.indexOf=="function"){return Array.prototype.indexOf.call(D,G)}for(var E=0,F=D.length;E<F;E++){if(D[E]===G){return E}}return -1},arrayFirst:function(D,F,G){for(var E=0,H=D.length;E<H;E++){if(F.call(G,D[E])){return D[E]}}return null},arrayRemoveItem:function(D,E){var F=i.utils.arrayIndexOf(D,E);if(F>=0){D.splice(F,1)}},arrayGetDistinctValues:function(D){D=D||[];var E=[];for(var G=0,F=D.length;G<F;G++){if(i.utils.arrayIndexOf(E,D[G])<0){E.push(D[G])}}return E},arrayMap:function(D,E){D=D||[];var G=[];for(var H=0,F=D.length;H<F;H++){G.push(E(D[H]))}return G},arrayFilter:function(D,F){D=D||[];var E=[];for(var H=0,G=D.length;H<G;H++){if(F(D[H])){E.push(D[H])}}return E},arrayPushAll:function(D,G){if(G instanceof Array){D.push.apply(D,G)}else{for(var E=0,F=G.length;E<F;E++){D.push(G[E])}}return D},extend:function(D,F){if(F){for(var E in F){if(F.hasOwnProperty(E)){D[E]=F[E]}}}return D},emptyDomNode:function(D){while(D.firstChild){i.removeNode(D.firstChild)}},moveCleanedNodesToContainerElement:function(H){var D=i.utils.makeArray(H);var G=d.createElement("div");for(var E=0,F=D.length;E<F;E++){i.cleanNode(D[E]);G.appendChild(D[E])}return G},setDomNodeChildren:function(G,F){i.utils.emptyDomNode(G);if(F){for(var E=0,D=F.length;E<D;E++){G.appendChild(F[E])}}},replaceDomNodes:function(H,F){var J=H.nodeType?[H]:H;if(J.length>0){var G=J[0];var I=G.parentNode;for(var D=0,E=F.length;D<E;D++){I.insertBefore(F[D],G)}for(var D=0,E=J.length;D<E;D++){i.removeNode(J[D])}}},setOptionNodeSelectionState:function(D,E){if(c.userAgent.indexOf("MSIE 6")>=0){D.setAttribute("selected",E)}else{D.selected=E}},stringTrim:function(D){return(D||"").replace(q,"")},stringTokenize:function(G,F){var J=[];var I=(G||"").split(F);for(var D=0,E=I.length;D<E;D++){var H=i.utils.stringTrim(I[D]);if(H!==""){J.push(H)}}return J},stringStartsWith:function(D,E){D=D||"";if(E.length>D.length){return false}return D.substring(0,E.length)===E},buildEvalWithinScopeFunction:function(G,E){var D="return ("+G+")";for(var F=0;F<E;F++){D="with(sc["+F+"]) { "+D+" } "}return new Function("sc",D)},domNodeIsContainedBy:function(D,E){if(E.compareDocumentPosition){return(E.compareDocumentPosition(D)&16)==16}while(D!=null){if(D==E){return true}D=D.parentNode}return false},domNodeIsAttachedToDocument:function(D){return i.utils.domNodeIsContainedBy(D,D.ownerDocument)},tagNameLower:function(D){return D&&D.tagName&&D.tagName.toLowerCase()},registerEventHandler:function(F,G,D){var H=t&&u[G];if(!H&&typeof jQuery!="undefined"){if(C(F,G)){var E=D;D=function(I,K){var J=this.checked;if(K){this.checked=K.checkedStateBeforeEvent!==true}E.call(this,I);this.checked=J}}jQuery(F)["bind"](G,D)}else{if(!H&&typeof F.addEventListener=="function"){F.addEventListener(G,D,false)}else{if(typeof F.attachEvent!="undefined"){F.attachEvent("on"+G,function(I){D.call(F,I)})}else{throw new Error("Browser doesn't support addEventListener or attachEvent")}}}},triggerEvent:function(G,H){if(!(G&&G.nodeType)){throw new Error("element must be a DOM node when calling triggerEvent")}if(typeof jQuery!="undefined"){var F=[];if(C(G,H)){F.push({checkedStateBeforeEvent:G.checked})}jQuery(G)["trigger"](H,F)}else{if(typeof d.createEvent=="function"){if(typeof G.dispatchEvent=="function"){var D=A[H]||"HTMLEvents";var E=d.createEvent(D);E.initEvent(H,true,true,b,0,0,0,0,0,false,false,false,false,0,G);G.dispatchEvent(E)}else{throw new Error("The supplied element doesn't support dispatchEvent")}}else{if(typeof G.fireEvent!="undefined"){if(C(G,H)){G.checked=G.checked!==true}G.fireEvent("on"+H)}else{throw new Error("Browser doesn't support triggering events")}}}},unwrapObservable:function(D){return i.isObservable(D)?D():D},toggleDomNodeCssClass:function(H,I,D){var G=(H.className||"").split(/\s+/);var J=i.utils.arrayIndexOf(G,I)>=0;if(D&&!J){H.className+=(G[0]?" ":"")+I}else{if(J&&!D){var F="";for(var E=0;E<G.length;E++){if(G[E]!=I){F+=G[E]+" "}}H.className=i.utils.stringTrim(F)}}},setTextContent:function(F,D){var E=i.utils.unwrapObservable(D);if((E===null)||(E===e)){E=""}"innerText" in F?F.innerText=E:F.textContent=E;if(t>=9){F.style.display=F.style.display}},ensureSelectElementIsRenderedCorrectly:function(D){if(t>=9){var E=D.style.width;D.style.width=0;D.style.width=E}},range:function(D,F){D=i.utils.unwrapObservable(D);F=i.utils.unwrapObservable(F);var E=[];for(var G=D;G<=F;G++){E.push(G)}return E},makeArray:function(G){var D=[];for(var F=0,E=G.length;F<E;F++){D.push(G[F])}return D},isIe6:z,isIe7:y,ieVersion:t,getFormFields:function(F,I){var E=i.utils.makeArray(F.getElementsByTagName("input")).concat(i.utils.makeArray(F.getElementsByTagName("textarea")));var H=(typeof I=="string")?function(J){return J.name===I}:function(J){return I.test(J.name)};var G=[];for(var D=E.length-1;D>=0;D--){if(H(E[D])){G.push(E[D])}}return G},parseJson:function(D){if(typeof D=="string"){D=i.utils.stringTrim(D);if(D){if(b.JSON&&b.JSON.parse){return b.JSON.parse(D)}return(new Function("return "+D))()}}return null},stringifyJson:function(E,F,D){if((typeof JSON=="undefined")||(typeof JSON.stringify=="undefined")){throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return JSON.stringify(i.utils.unwrapObservable(E),F,D)},postJson:function(D,M,N){N=N||{};var F=N.params||{};var E=N.includeFields||this.fieldsIncludedWithJsonPost;var L=D;if((typeof D=="object")&&(i.utils.tagNameLower(D)==="form")){var I=D;L=I.action;for(var G=E.length-1;G>=0;G--){var J=i.utils.getFormFields(I,E[G]);for(var K=J.length-1;K>=0;K--){F[J[K].name]=J[K].value}}}M=i.utils.unwrapObservable(M);var H=d.createElement("form");H.style.display="none";H.action=L;H.method="post";for(var O in M){var P=d.createElement("input");P.name=O;P.value=i.utils.stringifyJson(i.utils.unwrapObservable(M[O]));H.appendChild(P)}for(var O in F){var P=d.createElement("input");P.name=O;P.value=F[O];H.appendChild(P)}d.body.appendChild(H);N.submitter?N.submitter(H):H.submit();setTimeout(function(){H.parentNode.removeChild(H)},0)}}})();i.exportSymbol("utils",i.utils);i.exportSymbol("utils.arrayForEach",i.utils.arrayForEach);i.exportSymbol("utils.arrayFirst",i.utils.arrayFirst);i.exportSymbol("utils.arrayFilter",i.utils.arrayFilter);i.exportSymbol("utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues);i.exportSymbol("utils.arrayIndexOf",i.utils.arrayIndexOf);i.exportSymbol("utils.arrayMap",i.utils.arrayMap);i.exportSymbol("utils.arrayPushAll",i.utils.arrayPushAll);i.exportSymbol("utils.arrayRemoveItem",i.utils.arrayRemoveItem);i.exportSymbol("utils.extend",i.utils.extend);i.exportSymbol("utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost);i.exportSymbol("utils.getFormFields",i.utils.getFormFields);i.exportSymbol("utils.postJson",i.utils.postJson);i.exportSymbol("utils.parseJson",i.utils.parseJson);i.exportSymbol("utils.registerEventHandler",i.utils.registerEventHandler);i.exportSymbol("utils.stringifyJson",i.utils.stringifyJson);i.exportSymbol("utils.range",i.utils.range);i.exportSymbol("utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass);i.exportSymbol("utils.triggerEvent",i.utils.triggerEvent);i.exportSymbol("utils.unwrapObservable",i.utils.unwrapObservable);if(!Function.prototype.bind){Function.prototype.bind=function(r){var s=this,q=Array.prototype.slice.call(arguments),r=q.shift();return function(){return s.apply(r,q.concat(Array.prototype.slice.call(arguments)))}}}i.utils.domData=new (function(){var s=0;var q="__ko__"+(new Date).getTime();var r={};return{get:function(u,v){var t=i.utils.domData.getAll(u,false);return t===e?e:t[v]},set:function(v,w,t){if(t===e){if(i.utils.domData.getAll(v,false)===e){return}}var u=i.utils.domData.getAll(v,true);u[w]=t},getAll:function(v,u){var w=v[q];var t=w&&(w!=="null");if(!t){if(!u){return e}w=v[q]="ko"+s++;r[w]={}}return r[w]},clear:function(t){var u=t[q];if(u){delete r[u];t[q]=null}}}})();i.exportSymbol("utils.domData",i.utils.domData);i.exportSymbol("utils.domData.clear",i.utils.domData.clear);i.utils.domNodeDisposal=new (function(){var w="__ko_domNodeDisposal__"+(new Date).getTime();var s={1:true,8:true,9:true};var t={1:true,9:true};function u(y,x){var z=i.utils.domData.get(y,w);if((z===e)&&x){z=[];i.utils.domData.set(y,w,z)}return z}function v(x){i.utils.domData.set(x,w,e)}function r(z){var y=u(z,false);if(y){y=y.slice(0);for(var x=0;x<y.length;x++){y[x](z)}}i.utils.domData.clear(z);if((typeof jQuery=="function")&&(typeof jQuery.cleanData=="function")){jQuery.cleanData([z])}if(t[z.nodeType]){q(z)}}function q(y){var z,x=y.firstChild;while(z=x){x=z.nextSibling;if(z.nodeType===8){r(z)}}}return{addDisposeCallback:function(x,y){if(typeof y!="function"){throw new Error("Callback must be a function")}u(x,true).push(y)},removeDisposeCallback:function(y,z){var x=u(y,false);if(x){i.utils.arrayRemoveItem(x,z);if(x.length==0){v(y)}}},cleanNode:function(z){if(s[z.nodeType]){r(z);if(t[z.nodeType]){var x=[];i.utils.arrayPushAll(x,z.getElementsByTagName("*"));for(var A=0,y=x.length;A<y;A++){r(x[A])}}}},removeNode:function(x){i.cleanNode(x);if(x.parentNode){x.parentNode.removeChild(x)}}}})();i.cleanNode=i.utils.domNodeDisposal.cleanNode;i.removeNode=i.utils.domNodeDisposal.removeNode;i.exportSymbol("cleanNode",i.cleanNode);i.exportSymbol("removeNode",i.removeNode);i.exportSymbol("utils.domNodeDisposal",i.utils.domNodeDisposal);i.exportSymbol("utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback);i.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback);(function(){var s=/^(\s*)<!--(.*?)-->/;function q(u){var x=i.utils.stringTrim(u).toLowerCase(),v=d.createElement("div");var t=x.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!x.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!x.indexOf("<td")||!x.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];var w="ignored<div>"+t[1]+u+t[2]+"</div>";if(typeof b.innerShiv=="function"){v.appendChild(b.innerShiv(w))}else{v.innerHTML=w}while(t[0]--){v=v.lastChild}return i.utils.makeArray(v.lastChild.childNodes)}function r(t){var v=jQuery.clean([t]);if(v&&v[0]){var u=v[0];while(u.parentNode&&u.parentNode.nodeType!==11){u=u.parentNode}if(u.parentNode){u.parentNode.removeChild(u)}}return v}i.utils.parseHtmlFragment=function(t){return typeof jQuery!="undefined"?r(t):q(t)};i.utils.setHtml=function(v,u){i.utils.emptyDomNode(v);if((u!==null)&&(u!==e)){if(typeof u!="string"){u=u.toString()}if(typeof jQuery!="undefined"){jQuery(v)["html"](u)}else{var t=i.utils.parseHtmlFragment(u);for(var w=0;w<t.length;w++){v.appendChild(t[w])}}}}})();i.exportSymbol("utils.parseHtmlFragment",i.utils.parseHtmlFragment);i.exportSymbol("utils.setHtml",i.utils.setHtml);i.memoization=(function(){var q={};function s(){return(((1+Math.random())*4294967296)|0).toString(16).substring(1)}function r(){return s()+s()}function t(z,y){if(!z){return}if(z.nodeType==8){var x=i.memoization.parseMemoText(z.nodeValue);if(x!=null){y.push({domNode:z,memoId:x})}}else{if(z.nodeType==1){for(var u=0,v=z.childNodes,w=v.length;u<w;u++){t(v[u],y)}}}}return{memoize:function(u){if(typeof u!="function"){throw new Error("You can only pass a function to ko.memoization.memoize()")}var v=r();q[v]=u;return"<!--[ko_memo:"+v+"]-->"},unmemoize:function(v,u){var w=q[v];if(w===e){throw new Error("Couldn't find any memo with ID "+v+". Perhaps it's already been unmemoized.")}try{w.apply(null,u||[]);return true}finally{delete q[v]}},unmemoizeDomNodeAndDescendants:function(w,A){var y=[];t(w,y);for(var u=0,v=y.length;u<v;u++){var z=y[u].domNode;var x=[z];if(A){i.utils.arrayPushAll(x,A)}i.memoization.unmemoize(y[u].memoId,x);z.nodeValue="";if(z.parentNode){z.parentNode.removeChild(z)}}},parseMemoText:function(u){var v=u.match(/^\[ko_memo\:(.*?)\]$/);return v?v[1]:null}}})();i.exportSymbol("memoization",i.memoization);i.exportSymbol("memoization.memoize",i.memoization.memoize);i.exportSymbol("memoization.unmemoize",i.memoization.unmemoize);i.exportSymbol("memoization.parseMemoText",i.memoization.parseMemoText);i.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants);i.extenders={throttle:function(q,r){q.throttleEvaluation=r;var s=null;return i.dependentObservable({read:q,write:function(t){clearTimeout(s);s=setTimeout(function(){q(t)},r)}})},notify:function(r,q){r.equalityComparer=q=="always"?function(){return false}:i.observable.fn["equalityComparer"];return r}};function k(r){var q=this;if(r){for(var t in r){var s=i.extenders[t];if(typeof s=="function"){q=s(q,r[t])}}}return q}i.exportSymbol("extenders",i.extenders);i.subscription=function(q,s,r){this.target=q;this.callback=s;this.disposeCallback=r;i.exportProperty(this,"dispose",this.dispose)};i.subscription.prototype.dispose=function(){this.isDisposed=true;this.disposeCallback()};i.subscribable=function(){this._subscriptions={};i.utils.extend(this,i.subscribable.fn);i.exportProperty(this,"subscribe",this.subscribe);i.exportProperty(this,"extend",this.extend);i.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var p="change";i.subscribable.fn={subscribe:function(t,s,r){r=r||p;var u=s?t.bind(s):t;var q=new i.subscription(this,u,function(){i.utils.arrayRemoveItem(this._subscriptions[r],q)}.bind(this));if(!this._subscriptions[r]){this._subscriptions[r]=[]}this._subscriptions[r].push(q);return q},notifySubscribers:function(q,r){r=r||p;if(this._subscriptions[r]){i.utils.arrayForEach(this._subscriptions[r].slice(0),function(s){if(s&&(s.isDisposed!==true)){s.callback(q)}})}},getSubscriptionsCount:function(){var q=0;for(var r in this._subscriptions){if(this._subscriptions.hasOwnProperty(r)){q+=this._subscriptions[r].length}}return q},extend:k};i.isSubscribable=function(q){return typeof q.subscribe=="function"&&typeof q.notifySubscribers=="function"};i.exportSymbol("subscribable",i.subscribable);i.exportSymbol("isSubscribable",i.isSubscribable);i.dependencyDetection=(function(){var q=[];return{begin:function(r){q.push({callback:r,distinctDependencies:[]})},end:function(){q.pop()},registerDependency:function(r){if(!i.isSubscribable(r)){throw new Error("Only subscribable things can act as dependencies")}if(q.length>0){var s=q[q.length-1];if(i.utils.arrayIndexOf(s.distinctDependencies,r)>=0){return}s.distinctDependencies.push(r);s.callback(r)}}}})();var h={"undefined":true,"boolean":true,number:true,string:true};i.observable=function(q){var r=q;function s(){if(arguments.length>0){if((!s.equalityComparer)||!s.equalityComparer(r,arguments[0])){s.valueWillMutate();r=arguments[0];if(a){s._latestValue=r}s.valueHasMutated()}return this}else{i.dependencyDetection.registerDependency(s);return r}}if(a){s._latestValue=r}i.subscribable.call(s);s.valueHasMutated=function(){s.notifySubscribers(r)};s.valueWillMutate=function(){s.notifySubscribers(r,"beforeChange")};i.utils.extend(s,i.observable.fn);i.exportProperty(s,"valueHasMutated",s.valueHasMutated);i.exportProperty(s,"valueWillMutate",s.valueWillMutate);return s};i.observable.fn={equalityComparer:function m(r,s){var q=(r===null)||(typeof(r) in h);return q?(r===s):false}};var j=i.observable.protoProperty="__ko_proto__";i.observable.fn[j]=i.observable;i.hasPrototype=function(r,q){if((r===null)||(r===e)||(r[j]===e)){return false}if(r[j]===q){return true}return i.hasPrototype(r[j],q)};i.isObservable=function(q){return i.hasPrototype(q,i.observable)};i.isWriteableObservable=function(q){if((typeof q=="function")&&q[j]===i.observable){return true}if((typeof q=="function")&&(q[j]===i.dependentObservable)&&(q.hasWriteFunction)){return true}return false};i.exportSymbol("observable",i.observable);i.exportSymbol("isObservable",i.isObservable);i.exportSymbol("isWriteableObservable",i.isWriteableObservable);i.observableArray=function(r){if(arguments.length==0){r=[]}if((r!==null)&&(r!==e)&&!("length" in r)){throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}var q=i.observable(r);i.utils.extend(q,i.observableArray.fn);return q};i.observableArray.fn={remove:function(s){var v=this();var t=[];var u=typeof s=="function"?s:function(w){return w===s};for(var r=0;r<v.length;r++){var q=v[r];if(u(q)){if(t.length===0){this.valueWillMutate()}t.push(q);v.splice(r,1);r--}}if(t.length){this.valueHasMutated()}return t},removeAll:function(s){if(s===e){var q=this();var r=q.slice(0);this.valueWillMutate();q.splice(0,q.length);this.valueHasMutated();return r}if(!s){return[]}return this["remove"](function(t){return i.utils.arrayIndexOf(s,t)>=0})},destroy:function(u){var s=this();var t=typeof u=="function"?u:function(v){return v===u};this.valueWillMutate();for(var r=s.length-1;r>=0;r--){var q=s[r];if(t(q)){s[r]["_destroy"]=true}}this.valueHasMutated()},destroyAll:function(q){if(q===e){return this["destroy"](function(){return true})}if(!q){return[]}return this["destroy"](function(r){return i.utils.arrayIndexOf(q,r)>=0})},indexOf:function(q){var r=this();return i.utils.arrayIndexOf(r,q)},replace:function(r,s){var q=this["indexOf"](r);if(q>=0){this.valueWillMutate();this()[q]=s;this.valueHasMutated()}}};i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(q){i.observableArray.fn[q]=function(){var s=this();this.valueWillMutate();var r=s[q].apply(s,arguments);this.valueHasMutated();return r}});i.utils.arrayForEach(["slice"],function(q){i.observableArray.fn[q]=function(){var r=this();return r[q].apply(r,arguments)}});i.exportSymbol("observableArray",i.observableArray);i.dependentObservable=function(q,A,E){var z,I=false,F=false,x=q;if(x&&typeof x=="object"){E=x;x=E.read}else{E=E||{};if(!x){x=E.read}}if(typeof x!="function"){throw new Error("Pass a function that returns the value of the ko.computed")}var B=E.write;if(!A){A=E.owner}var u=[];function C(){i.utils.arrayForEach(u,function(K){K.dispose()});u=[]}var H=C;var D=(typeof E.disposeWhenNodeIsRemoved=="object")?E.disposeWhenNodeIsRemoved:null;var y=E.disposeWhen||function(){return false};if(D){H=function(){i.utils.domNodeDisposal.removeDisposeCallback(D,arguments.callee);C()};i.utils.domNodeDisposal.addDisposeCallback(D,H);var t=y;y=function(){return !i.utils.domNodeIsAttachedToDocument(D)||t()}}var r=null;function J(){var K=s.throttleEvaluation;if(K&&K>=0){clearTimeout(r);r=setTimeout(v,K)}else{v()}}function v(){if(F){return}if(I&&y()){H();return}F=true;try{var M=i.utils.arrayMap(u,function(N){return N.target});i.dependencyDetection.begin(function(O){var N;if((N=i.utils.arrayIndexOf(M,O))>=0){M[N]=e}else{u.push(O.subscribe(J))}});var L=x.call(A);for(var K=M.length-1;K>=0;K--){if(M[K]){u.splice(K,1)[0].dispose()}}I=true;s.notifySubscribers(z,"beforeChange");z=L;if(a){s._latestValue=z}}finally{i.dependencyDetection.end()}s.notifySubscribers(z);F=false}function s(){if(arguments.length>0){G.apply(s,arguments)}else{return w()}}function G(){if(typeof B==="function"){B.apply(A,arguments)}else{throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}}function w(){if(!I){v()}i.dependencyDetection.registerDependency(s);return z}s.getDependenciesCount=function(){return u.length};s.hasWriteFunction=typeof E.write==="function";s.dispose=function(){H()};i.subscribable.call(s);i.utils.extend(s,i.dependentObservable.fn);if(E.deferEvaluation!==true){v()}i.exportProperty(s,"dispose",s.dispose);i.exportProperty(s,"getDependenciesCount",s.getDependenciesCount);return s};i.isComputed=function(q){return i.hasPrototype(q,i.dependentObservable)};var f=i.observable.protoProperty;i.dependentObservable[f]=i.observable;i.dependentObservable.fn={};i.dependentObservable.fn[f]=i.dependentObservable;i.exportSymbol("dependentObservable",i.dependentObservable);i.exportSymbol("computed",i.dependentObservable);i.exportSymbol("isComputed",i.isComputed);(function(){var r=10;i.toJS=function(u){if(arguments.length==0){throw new Error("When calling ko.toJS, pass the object you want to convert.")}return q(u,function(v){for(var w=0;i.isObservable(v)&&(w<r);w++){v=v()}return v})};i.toJSON=function(v,x,u){var w=i.toJS(v);return i.utils.stringifyJson(w,x,u)};function q(w,u,x){x=x||new s();w=u(w);var v=(typeof w=="object")&&(w!==null)&&(w!==e)&&(!(w instanceof Date));if(!v){return w}var y=w instanceof Array?[]:{};x.save(w,y);t(w,function(z){var B=u(w[z]);switch(typeof B){case"boolean":case"number":case"string":case"function":y[z]=B;break;case"object":case"undefined":var A=x.get(B);y[z]=(A!==e)?A:q(B,u,x);break}});return y}function t(w,u){if(w instanceof Array){for(var v=0;v<w.length;v++){u(v)}if(typeof w.toJSON=="function"){u("toJSON")}}else{for(var x in w){u(x)}}}function s(){var v=[];var u=[];this.save=function(y,w){var x=i.utils.arrayIndexOf(v,y);if(x>=0){u[x]=w}else{v.push(y);u.push(w)}};this.get=function(w){var x=i.utils.arrayIndexOf(v,w);return(x>=0)?u[x]:e}}})();i.exportSymbol("toJS",i.toJS);i.exportSymbol("toJSON",i.toJSON);(function(){var q="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(r){switch(i.utils.tagNameLower(r)){case"option":if(r[q]===true){return i.utils.domData.get(r,i.bindingHandlers.options.optionValueDomDataKey)}return r.getAttribute("value");case"select":return r.selectedIndex>=0?i.selectExtensions.readValue(r.options[r.selectedIndex]):e;default:return r.value}},writeValue:function(t,r){switch(i.utils.tagNameLower(t)){case"option":switch(typeof r){case"string":i.utils.domData.set(t,i.bindingHandlers.options.optionValueDomDataKey,e);if(q in t){delete t[q]}t.value=r;break;default:i.utils.domData.set(t,i.bindingHandlers.options.optionValueDomDataKey,r);t[q]=true;t.value=typeof r==="number"?r:"";break}break;case"select":for(var s=t.options.length-1;s>=0;s--){if(i.selectExtensions.readValue(t.options[s])==r){t.selectedIndex=s;break}}break;default:if((r===null)||(r===e)){r=""}t.value=r;break}}}})();i.exportSymbol("selectExtensions",i.selectExtensions);i.exportSymbol("selectExtensions.readValue",i.selectExtensions.readValue);i.exportSymbol("selectExtensions.writeValue",i.selectExtensions.writeValue);i.jsonExpressionRewriting=(function(){var u=/\@ko_token_(\d+)\@/g;var v=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i;var s=["true","false"];function q(x,y){var w=null;while(x!=w){w=x;x=x.replace(u,function(A,z){return y[z]})}return x}function t(w){if(i.utils.arrayIndexOf(s,i.utils.stringTrim(w).toLowerCase())>=0){return false}return w.match(v)!==null}function r(w){var x=i.utils.stringTrim(w);switch(x.length&&x.charAt(0)){case"'":case'"':return w;default:return"'"+x+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(y){var A=i.utils.stringTrim(y);if(A.length<3){return[]}if(A.charAt(0)==="{"){A=A.substring(1,A.length-1)}var G=[];var F=null,w;for(var N=0;N<A.length;N++){var J=A.charAt(N);if(F===null){switch(J){case'"':case"'":case"/":F=N;w=J;break}}else{if((J==w)&&(A.charAt(N-1)!=="\\")){var z=A.substring(F,N+1);G.push(z);var E="@ko_token_"+(G.length-1)+"@";A=A.substring(0,F)+E+A.substring(N+1);N-=(z.length-E.length);F=null}}}F=null;w=null;var H=0,K=null;for(var N=0;N<A.length;N++){var J=A.charAt(N);if(F===null){switch(J){case"{":F=N;K=J;w="}";break;case"(":F=N;K=J;w=")";break;case"[":F=N;K=J;w="]";break}}if(J===K){H++}else{if(J===w){H--;if(H===0){var z=A.substring(F,N+1);G.push(z);var E="@ko_token_"+(G.length-1)+"@";A=A.substring(0,F)+E+A.substring(N+1);N-=(z.length-E.length);F=null}}}}var I=[];var D=A.split(",");for(var B=0,C=D.length;B<C;B++){var M=D[B];var O=M.indexOf(":");if((O>0)&&(O<M.length-1)){var L=M.substring(0,O);var x=M.substring(O+1);I.push({key:q(L,G),value:q(x,G)})}else{I.push({unknown:q(M,G)})}}return I},insertPropertyAccessorsIntoJson:function(E){var A=typeof E==="string"?i.jsonExpressionRewriting.parseObjectLiteral(E):E;var D=[],C=[];var z;for(var w=0;z=A[w];w++){if(D.length>0){D.push(",")}if(z.key){var B=r(z.key),y=z.value;D.push(B);D.push(":");D.push(y);if(t(i.utils.stringTrim(y))){if(C.length>0){C.push(", ")}C.push(B+" : function(__ko_value) { "+y+" = __ko_value; }")}}else{if(z.unknown){D.push(z.unknown)}}}var x=D.join("");if(C.length>0){var F=C.join("");x=x+", '_ko_property_writers' : { "+F+" } "}return x},keyValueArrayContainsKey:function(x,y){for(var w=0;w<x.length;w++){if(i.utils.stringTrim(x[w]["key"])==y){return true}}return false},writeValueToProperty:function(A,x,z,w,y){if(!A||!i.isWriteableObservable(A)){var B=x()["_ko_property_writers"];if(B&&B[z]){B[z](w)}}else{if(!y||A()!==w){A(w)}}}}})();i.exportSymbol("jsonExpressionRewriting",i.jsonExpressionRewriting);i.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators);i.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral);i.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var u=d.createComment("test").text==="<!--test-->";var v=u?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/;var q=u?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/;var s={ul:true,ol:true};function w(z){return(z.nodeType==8)&&(u?z.text:z.nodeValue).match(v)}function r(z){return(z.nodeType==8)&&(u?z.text:z.nodeValue).match(q)}function y(C,A){var z=C;var B=1;var D=[];while(z=z.nextSibling){if(r(z)){B--;if(B===0){return D}}D.push(z);if(w(z)){B++}}if(!A){throw new Error("Cannot find closing comment tag to match: "+C.nodeValue)}return null}function x(B,A){var z=y(B,A);if(z){if(z.length>0){return z[z.length-1].nextSibling}return B.nextSibling}else{return null}}function t(B){var C=B.firstChild,z=null;if(C){do{if(z){z.push(C)}else{if(w(C)){var A=x(C,true);if(A){C=A}else{z=[C]}}else{if(r(C)){z=[C]}}}}while(C=C.nextSibling)}return z}i.virtualElements={allowedBindings:{},childNodes:function(z){return w(z)?y(z):z.childNodes},emptyNode:function(B){if(!w(B)){i.utils.emptyDomNode(B)}else{var C=i.virtualElements.childNodes(B);for(var z=0,A=C.length;z<A;z++){i.removeNode(C[z])}}},setDomNodeChildren:function(D,B){if(!w(D)){i.utils.setDomNodeChildren(D,B)}else{i.virtualElements.emptyNode(D);var C=D.nextSibling;for(var A=0,z=B.length;A<z;A++){C.parentNode.insertBefore(B[A],C)}}},prepend:function(z,A){if(!w(z)){if(z.firstChild){z.insertBefore(A,z.firstChild)}else{z.appendChild(A)}}else{z.parentNode.insertBefore(A,z.nextSibling)}},insertAfter:function(B,z,A){if(!w(B)){if(A.nextSibling){B.insertBefore(z,A.nextSibling)}else{B.appendChild(z)}}else{B.parentNode.insertBefore(z,A.nextSibling)}},firstChild:function(z){if(!w(z)){return z.firstChild}if(!z.nextSibling||r(z.nextSibling)){return null}return z.nextSibling},nextSibling:function(z){if(w(z)){z=x(z)}if(z.nextSibling&&r(z.nextSibling)){return null}return z.nextSibling},virtualNodeBindingValue:function(z){var A=w(z);return A?A[1]:null},normaliseVirtualElementDomStructure:function(z){if(!s[i.utils.tagNameLower(z)]){return}var D=z.firstChild;if(D){do{if(D.nodeType===1){var C=t(D);if(C){var B=D.nextSibling;for(var A=0;A<C.length;A++){if(B){z.insertBefore(C[A],B)}else{z.appendChild(C[A])}}}}}while(D=D.nextSibling)}}}})();i.exportSymbol("virtualElements",i.virtualElements);i.exportSymbol("virtualElements.allowedBindings",i.virtualElements.allowedBindings);i.exportSymbol("virtualElements.emptyNode",i.virtualElements.emptyNode);i.exportSymbol("virtualElements.insertAfter",i.virtualElements.insertAfter);i.exportSymbol("virtualElements.prepend",i.virtualElements.prepend);i.exportSymbol("virtualElements.setDomNodeChildren",i.virtualElements.setDomNodeChildren);(function(){var s="data-bind";i.bindingProvider=function(){this.bindingCache={}};i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(s)!=null;case 8:return i.virtualElements.virtualNodeBindingValue(t)!=null;default:return false}},getBindings:function(u,t){var v=this["getBindingsString"](u,t);return v?this["parseBindingsString"](v,t):null},getBindingsString:function(t,u){switch(t.nodeType){case 1:return t.getAttribute(s);case 8:return i.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(w,y){try{var u=y["$data"],t=(typeof u=="object"&&u!=null)?[u,y]:[y],v=r(w,t.length,this.bindingCache);return v(t)}catch(x){throw new Error("Unable to parse bindings.\nMessage: "+x+";\nBindings value: "+w)}}});i.bindingProvider.instance=new i.bindingProvider();function r(v,w,u){var t=w+"_"+v;return u[t]||(u[t]=q(v,w))}function q(u,v){var t=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(u)+" } ";return i.utils.buildEvalWithinScopeFunction(t,v)}})();i.exportSymbol("bindingProvider",i.bindingProvider);(function(){i.bindingHandlers={};i.bindingContext=function(w,v){if(v){i.utils.extend(this,v);this["$parentContext"]=v;this["$parent"]=v["$data"];this["$parents"]=(v["$parents"]||[]).slice(0);this["$parents"].unshift(this["$parent"])}else{this["$parents"]=[];this["$root"]=w}this["$data"]=w};i.bindingContext.prototype.createChildContext=function(v){return new i.bindingContext(v,this)};i.bindingContext.prototype.extend=function(v){var w=i.utils.extend(new i.bindingContext(),this);return i.utils.extend(w,v)};function u(w){var v=i.virtualElements.allowedBindings[w];if(!v){throw new Error("The binding '"+w+"' cannot be used with virtual elements")}}function s(y,v,z){var x,w=i.virtualElements.firstChild(v);while(x=w){w=i.virtualElements.nextSibling(x);t(y,x,z)}}function t(v,w,A){var y=true;var x=(w.nodeType===1);if(x){i.virtualElements.normaliseVirtualElementDomStructure(w)}var z=(x&&A)||i.bindingProvider.instance["nodeHasBindings"](w);if(z){y=r(w,null,v,A).shouldBindDescendants}if(y){s(v,w,!x)}}function r(y,z,x,C){var B=0;var v;function w(E){return function(){return v[E]}}function A(){return v}var D;i.dependentObservable(function(){var I=x&&(x instanceof i.bindingContext)?x:new i.bindingContext(i.utils.unwrapObservable(x));var E=I["$data"];if(C){i.storedBindingContextForNode(y,I)}var F=(typeof z=="function")?z():z;v=F||i.bindingProvider.instance["getBindings"](y,I);if(v){if(B===0){B=1;for(var L in v){var K=i.bindingHandlers[L];if(K&&y.nodeType===8){u(L)}if(K&&typeof K.init=="function"){var H=K.init;var J=H(y,w(L),A,E,I);if(J&&J.controlsDescendantBindings){if(D!==e){throw new Error("Multiple bindings ("+D+" and "+L+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}D=L}}}B=2}if(B===2){for(var L in v){var K=i.bindingHandlers[L];if(K&&typeof K.update=="function"){var G=K.update;G(y,w(L),A,E,I)}}}}},null,{disposeWhenNodeIsRemoved:y});return{shouldBindDescendants:D===e}}var q="__ko_bindingContext__";i.storedBindingContextForNode=function(v,w){if(arguments.length==2){i.utils.domData.set(v,q,w)}else{return i.utils.domData.get(v,q)}};i.applyBindingsToNode=function(w,x,v){if(w.nodeType===1){i.virtualElements.normaliseVirtualElementDomStructure(w)}return r(w,x,v,true)};i.applyBindingsToDescendants=function(w,v){if(v.nodeType===1||v.nodeType===8){s(w,v,true)}};i.applyBindings=function(w,v){if(v&&(v.nodeType!==1)&&(v.nodeType!==8)){throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}v=v||b.document.body;t(w,v,true)};i.contextFor=function(v){switch(v.nodeType){case 1:case 8:var w=i.storedBindingContextForNode(v);if(w){return w}if(v.parentNode){return i.contextFor(v.parentNode)}break}return e};i.dataFor=function(v){var w=i.contextFor(v);return w?w["$data"]:e};i.exportSymbol("bindingHandlers",i.bindingHandlers);i.exportSymbol("applyBindings",i.applyBindings);i.exportSymbol("applyBindingsToDescendants",i.applyBindingsToDescendants);i.exportSymbol("applyBindingsToNode",i.applyBindingsToNode);i.exportSymbol("contextFor",i.contextFor);i.exportSymbol("dataFor",i.dataFor)})();var n=["click"];i.utils.arrayForEach(n,function(q){i.bindingHandlers[q]={init:function(u,s,r,t){var v=function(){var w={};w[q]=s();return w};return i.bindingHandlers.event["init"].call(this,u,v,r,t)}}});i.bindingHandlers.event={init:function(q,u,r,s){var v=u()||{};for(var t in v){(function(){var w=t;if(typeof w=="string"){i.utils.registerEventHandler(q,w,function(A){var x;var y=u()[w];if(!y){return}var z=r();try{var C=i.utils.makeArray(arguments);C.unshift(s);x=y.apply(s,C)}finally{if(x!==true){if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}}}var B=z[w+"Bubble"]!==false;if(!B){A.cancelBubble=true;if(A.stopPropagation){A.stopPropagation()}}})}})()}}};i.bindingHandlers.submit={init:function(t,r,q,s){if(typeof r()!="function"){throw new Error("The value for a submit binding must be a function")}i.utils.registerEventHandler(t,"submit",function(v){var w;var u=r();try{w=u.call(s,t)}finally{if(w!==true){if(v.preventDefault){v.preventDefault()}else{v.returnValue=false}}}})}};i.bindingHandlers.visible={update:function(t,s){var q=i.utils.unwrapObservable(s());var r=!(t.style.display=="none");if(q&&!r){t.style.display=""}else{if((!q)&&r){t.style.display="none"}}}};i.bindingHandlers.enable={update:function(s,r){var q=i.utils.unwrapObservable(r());if(q&&s.disabled){s.removeAttribute("disabled")}else{if((!q)&&(!s.disabled)){s.disabled=true}}}};i.bindingHandlers.disable={update:function(q,r){i.bindingHandlers.enable["update"](q,function(){return !i.utils.unwrapObservable(r())})}};function o(s,r,q){if(q){if(r!==i.selectExtensions.readValue(s)){i.selectExtensions.writeValue(s,r)}}if(r!==i.selectExtensions.readValue(s)){i.utils.triggerEvent(s,"change")}}i.bindingHandlers.value={init:function(r,w,u){var x=["change"];var v=u()["valueUpdate"];if(v){if(typeof v=="string"){v=[v]}i.utils.arrayPushAll(x,v);x=i.utils.arrayGetDistinctValues(x)}var t=function(){var y=w();var z=i.selectExtensions.readValue(r);i.jsonExpressionRewriting.writeValueToProperty(y,u,"value",z,true)};var s=i.utils.ieVersion&&r.tagName.toLowerCase()=="input"&&r.type=="text"&&r.autocomplete!="off"&&(!r.form||r.form.autocomplete!="off");if(s&&i.utils.arrayIndexOf(x,"propertychange")==-1){var q=false;i.utils.registerEventHandler(r,"propertychange",function(){q=true});i.utils.registerEventHandler(r,"blur",function(){if(q){q=false;t()}})}i.utils.arrayForEach(x,function(z){var y=t;if(i.utils.stringStartsWith(z,"after")){y=function(){setTimeout(t,0)};z=z.substring("after".length)}i.utils.registerEventHandler(r,z,y)})},update:function(q,w){var u=i.utils.tagNameLower(q)==="select";var x=i.utils.unwrapObservable(w());var t=i.selectExtensions.readValue(q);var r=(x!=t);if((x===0)&&(t!==0)&&(t!=="0")){r=true}if(r){var s=function(){i.selectExtensions.writeValue(q,x)};s();var v=u;if(v){setTimeout(s,0)}}if(u&&(q.length>0)){o(q,x,false)}}};i.bindingHandlers.options={update:function(s,u,F){if(i.utils.tagNameLower(s)!=="select"){throw new Error("options binding applies only to SELECT elements")}var C=s.length==0;var x=i.utils.arrayMap(i.utils.arrayFilter(s.childNodes,function(H){return H.tagName&&(i.utils.tagNameLower(H)==="option")&&H.selected}),function(H){return i.selectExtensions.readValue(H)||H.innerText||H.textContent});var A=s.scrollTop;var q=i.utils.unwrapObservable(u());var G=s.value;while(s.length>0){i.cleanNode(s.options[0]);s.remove(0)}if(q){var v=F();if(typeof q.length!="number"){q=[q]}if(v.optionsCaption){var D=d.createElement("option");i.utils.setHtml(D,v.optionsCaption);i.selectExtensions.writeValue(D,e);s.appendChild(D)}for(var y=0,z=q.length;y<z;y++){var D=d.createElement("option");var E=typeof v.optionsValue=="string"?q[y][v.optionsValue]:q[y];E=i.utils.unwrapObservable(E);i.selectExtensions.writeValue(D,E);var t=v.optionsText;var B;if(typeof t=="function"){B=t(q[y])}else{if(typeof t=="string"){B=q[y][t]}else{B=E}}if((B===null)||(B===e)){B=""}i.utils.setTextContent(D,B);s.appendChild(D)}var w=s.getElementsByTagName("option");var r=0;for(var y=0,z=w.length;y<z;y++){if(i.utils.arrayIndexOf(x,i.selectExtensions.readValue(w[y]))>=0){i.utils.setOptionNodeSelectionState(w[y],true);r++}}s.scrollTop=A;if(C&&("value" in v)){o(s,i.utils.unwrapObservable(v.value),true)}i.utils.ensureSelectElementIsRenderedCorrectly(s)}}};i.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(w){var x=[];var v=w.childNodes;for(var r=0,s=v.length;r<s;r++){var u=v[r],t=i.utils.tagNameLower(u);if(t=="option"&&u.selected){x.push(i.selectExtensions.readValue(u))}else{if(t=="optgroup"){var q=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(u);Array.prototype.splice.apply(x,[x.length,0].concat(q))}}}return x},init:function(s,r,q){i.utils.registerEventHandler(s,"change",function(){var u=r();var t=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);i.jsonExpressionRewriting.writeValueToProperty(u,q,"value",t)})},update:function(q,v){if(i.utils.tagNameLower(q)!="select"){throw new Error("values binding applies only to SELECT elements")}var w=i.utils.unwrapObservable(v());if(w&&typeof w.length=="number"){var u=q.childNodes;for(var r=0,s=u.length;r<s;r++){var t=u[r];if(i.utils.tagNameLower(t)==="option"){i.utils.setOptionNodeSelectionState(t,i.utils.arrayIndexOf(w,i.selectExtensions.readValue(t))>=0)}}}}};i.bindingHandlers.text={update:function(q,r){i.utils.setTextContent(q,r())}};i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:true}},update:function(s,r){var q=i.utils.unwrapObservable(r());i.utils.setHtml(s,q)}};i.bindingHandlers.css={update:function(u,s){var q=i.utils.unwrapObservable(s()||{});for(var t in q){if(typeof t=="string"){var r=i.utils.unwrapObservable(q[t]);i.utils.toggleDomNodeCssClass(u,t,r)}}}};i.bindingHandlers.style={update:function(t,r){var q=i.utils.unwrapObservable(r()||{});for(var s in q){if(typeof s=="string"){var u=i.utils.unwrapObservable(q[s]);t.style[s]=u||""}}}};i.bindingHandlers.uniqueName={init:function(q,r){if(r()){q.name="ko_unique_"+(++i.bindingHandlers.uniqueName.currentIndex);if(i.utils.isIe6||i.utils.isIe7){q.mergeAttributes(d.createElement("<input name='"+q.name+"'/>"),false)}}}};i.bindingHandlers.uniqueName.currentIndex=0;i.bindingHandlers.checked={init:function(s,r,q){var t=function(){var v;if(s.type=="checkbox"){v=s.checked}else{if((s.type=="radio")&&(s.checked)){v=s.value}else{return}}var w=r();if((s.type=="checkbox")&&(i.utils.unwrapObservable(w) instanceof Array)){var u=i.utils.arrayIndexOf(i.utils.unwrapObservable(w),s.value);if(s.checked&&(u<0)){w.push(s.value)}else{if((!s.checked)&&(u>=0)){w.splice(u,1)}}}else{i.jsonExpressionRewriting.writeValueToProperty(w,q,"checked",v,true)}};i.utils.registerEventHandler(s,"click",t);if((s.type=="radio")&&!s.name){i.bindingHandlers.uniqueName["init"](s,function(){return true})}},update:function(s,r){var q=i.utils.unwrapObservable(r());if(s.type=="checkbox"){if(q instanceof Array){s.checked=i.utils.arrayIndexOf(q,s.value)>=0}else{s.checked=q}}else{if(s.type=="radio"){s.checked=(s.value==q)}}}};var g={"class":"className","for":"htmlFor"};i.bindingHandlers.attr={update:function(r,w,t){var q=i.utils.unwrapObservable(w())||{};for(var u in q){if(typeof u=="string"){var s=i.utils.unwrapObservable(q[u]);var v=(s===false)||(s===null)||(s===e);if(v){r.removeAttribute(u)}if(i.utils.ieVersion<=8&&u in g){u=g[u];if(v){r.removeAttribute(u)}else{r[u]=s}}else{if(!v){r.setAttribute(u,s.toString())}}}}}};i.bindingHandlers.hasfocus={init:function(s,r,q){var t=function(v){var u=r();i.jsonExpressionRewriting.writeValueToProperty(u,q,"hasfocus",v,true)};i.utils.registerEventHandler(s,"focus",function(){t(true)});i.utils.registerEventHandler(s,"focusin",function(){t(true)});i.utils.registerEventHandler(s,"blur",function(){t(false)});i.utils.registerEventHandler(s,"focusout",function(){t(false)})},update:function(s,r){var q=i.utils.unwrapObservable(r());q?s.focus():s.blur();i.utils.triggerEvent(s,q?"focusin":"focusout")}};i.bindingHandlers["with"]={makeTemplateValueAccessor:function(q){return function(){var r=q();return{"if":r,data:r,templateEngine:i.nativeTemplateEngine.instance}}},init:function(u,s,q,t,r){return i.bindingHandlers.template["init"](u,i.bindingHandlers["with"].makeTemplateValueAccessor(s))},update:function(u,s,q,t,r){return i.bindingHandlers.template["update"](u,i.bindingHandlers["with"].makeTemplateValueAccessor(s),q,t,r)}};i.jsonExpressionRewriting.bindingRewriteValidators["with"]=false;i.virtualElements.allowedBindings["with"]=true;i.bindingHandlers["if"]={makeTemplateValueAccessor:function(q){return function(){return{"if":q(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(u,s,q,t,r){return i.bindingHandlers.template["init"](u,i.bindingHandlers["if"].makeTemplateValueAccessor(s))},update:function(u,s,q,t,r){return i.bindingHandlers.template["update"](u,i.bindingHandlers["if"].makeTemplateValueAccessor(s),q,t,r)}};i.jsonExpressionRewriting.bindingRewriteValidators["if"]=false;i.virtualElements.allowedBindings["if"]=true;i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(q){return function(){return{ifnot:q(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(u,s,q,t,r){return i.bindingHandlers.template["init"](u,i.bindingHandlers.ifnot.makeTemplateValueAccessor(s))},update:function(u,s,q,t,r){return i.bindingHandlers.template["update"](u,i.bindingHandlers.ifnot.makeTemplateValueAccessor(s),q,t,r)}};i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=false;i.virtualElements.allowedBindings.ifnot=true;i.bindingHandlers.foreach={makeTemplateValueAccessor:function(q){return function(){var r=i.utils.unwrapObservable(q());if((!r)||typeof r.length=="number"){return{foreach:r,templateEngine:i.nativeTemplateEngine.instance}}return{foreach:r.data,includeDestroyed:r.includeDestroyed,afterAdd:r.afterAdd,beforeRemove:r.beforeRemove,afterRender:r.afterRender,templateEngine:i.nativeTemplateEngine.instance}}},init:function(u,s,q,t,r){return i.bindingHandlers.template["init"](u,i.bindingHandlers.foreach.makeTemplateValueAccessor(s))},update:function(u,s,q,t,r){return i.bindingHandlers.template["update"](u,i.bindingHandlers.foreach.makeTemplateValueAccessor(s),q,t,r)}};i.jsonExpressionRewriting.bindingRewriteValidators.foreach=false;i.virtualElements.allowedBindings.foreach=true;i.templateEngine=function(){};i.templateEngine.prototype.renderTemplateSource=function(r,q,s){throw new Error("Override renderTemplateSource")};i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(q){throw new Error("Override createJavaScriptEvaluatorBlock")};i.templateEngine.prototype.makeTemplateSource=function(r,q){if(typeof r=="string"){q=q||d;var s=q.getElementById(r);if(!s){throw new Error("Cannot find template with ID "+r)}return new i.templateSources.domElement(s)}else{if((r.nodeType==1)||(r.nodeType==8)){return new i.templateSources.anonymousTemplate(r)}else{throw new Error("Unknown template type: "+r)}}};i.templateEngine.prototype.renderTemplate=function(r,q,u,s){var t=this["makeTemplateSource"](r,s);return this["renderTemplateSource"](t,q,u)};i.templateEngine.prototype.isTemplateRewritten=function(s,r){if(this["allowTemplateRewriting"]===false){return true}var q=r&&r!=d;if(!q&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[s]){return true}return this["makeTemplateSource"](s,r)["data"]("isRewritten")};i.templateEngine.prototype.rewriteTemplate=function(v,q,s){var r=this["makeTemplateSource"](v,s);var t=q(r.text());r.text(t);r.data("isRewritten",true);var u=s&&s!=d;if(!u&&typeof v=="string"){this.knownRewrittenTemplates=this.knownRewrittenTemplates||{};this.knownRewrittenTemplates[v]=true}};i.exportSymbol("templateEngine",i.templateEngine);i.templateRewriting=(function(){var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;var s=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function q(y){var u=i.jsonExpressionRewriting.bindingRewriteValidators;for(var v=0;v<y.length;v++){var z=y[v]["key"];if(u.hasOwnProperty(z)){var w=u[z];if(typeof w==="function"){var x=w(y[v]["value"]);if(x){throw new Error(x)}}else{if(!w){throw new Error("This template engine does not support the '"+z+"' binding within its templates")}}}}}function r(v,x,z){var u=i.jsonExpressionRewriting.parseObjectLiteral(v);q(u);var y=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(u);var w="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+y+" } })()         })";return z.createJavaScriptEvaluatorBlock(w)+x}return{ensureTemplateIsRewritten:function(v,u,w){if(!u.isTemplateRewritten(v,w)){u.rewriteTemplate(v,function(x){return i.templateRewriting.memoizeBindingAttributeSyntax(x,u)},w)}},memoizeBindingAttributeSyntax:function(v,u){return v.replace(t,function(){return r(arguments[6],arguments[1],u)}).replace(s,function(){return r(arguments[1],"<!-- ko -->",u)})},applyMemoizedBindingsToNextSibling:function(u){return i.memoization.memoize(function(w,v){if(w.nextSibling){i.applyBindingsToNode(w.nextSibling,u,v)}})}}})();i.exportSymbol("templateRewriting",i.templateRewriting);i.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){i.templateSources={};i.templateSources.domElement=function(r){this.domElement=r};i.templateSources.domElement.prototype.text=function(){var s=i.utils.tagNameLower(this.domElement),r=s==="script"?"text":s==="textarea"?"value":"innerHTML";if(arguments.length==0){return this.domElement[r]}else{var t=arguments[0];if(r==="innerHTML"){i.utils.setHtml(this.domElement,t)}else{this.domElement[r]=t}}};i.templateSources.domElement.prototype.data=function(r){if(arguments.length===1){return i.utils.domData.get(this.domElement,"templateSourceData_"+r)}else{i.utils.domData.set(this.domElement,"templateSourceData_"+r,arguments[1])}};var q="__ko_anon_template__";i.templateSources.anonymousTemplate=function(r){this.domElement=r};i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement();i.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var s=i.utils.domData.get(this.domElement,q)||{};if(s.textData===e&&s.containerData){s.textData=s.containerData.innerHTML}return s.textData}else{var r=arguments[0];i.utils.domData.set(this.domElement,q,{textData:r})}};i.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var s=i.utils.domData.get(this.domElement,q)||{};return s.containerData}else{var r=arguments[0];i.utils.domData.set(this.domElement,q,{containerData:r})}};i.exportSymbol("templateSources",i.templateSources);i.exportSymbol("templateSources.domElement",i.templateSources.domElement);i.exportSymbol("templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)})();(function(){var s;i.setTemplateEngine=function(x){if((x!=e)&&!(x instanceof i.templateEngine)){throw new Error("templateEngine must inherit from ko.templateEngine")}s=x};function w(z,x,y){var C,A=z,B=i.virtualElements.nextSibling(x);while(A&&((C=A)!==B)){A=i.virtualElements.nextSibling(C);if(C.nodeType===1||C.nodeType===8){y(C)}}}function r(z,x){if(z.length){var A=z[0],y=z[z.length-1];w(A,y,function(B){i.applyBindings(x,B)});w(A,y,function(B){i.memoization.unmemoizeDomNodeAndDescendants(B,[x])})}}function q(x){return x.nodeType?x:x.length>0?x[0]:null}function t(B,D,E,F,y){y=y||{};var x=B&&q(B);var A=x&&x.ownerDocument;var G=(y.templateEngine||s);i.templateRewriting.ensureTemplateIsRewritten(E,G,A);var C=G.renderTemplate(E,F,y,A);if((typeof C.length!="number")||(C.length>0&&typeof C[0].nodeType!="number")){throw new Error("Template engine must return an array of DOM nodes")}var z=false;switch(D){case"replaceChildren":i.virtualElements.setDomNodeChildren(B,C);z=true;break;case"replaceNode":i.utils.replaceDomNodes(B,C);z=true;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+D)}if(z){r(C,F);if(y.afterRender){y.afterRender(C,F["$data"])}}return C}i.renderTemplate=function(E,C,y,A,D){y=y||{};if((y.templateEngine||s)==e){throw new Error("Set a template engine before calling renderTemplate")}D=D||"replaceChildren";if(A){var x=q(A);var z=function(){return(!x)||!i.utils.domNodeIsAttachedToDocument(x)};var B=(x&&D=="replaceNode")?x.parentNode:x;return i.dependentObservable(function(){var F=(C&&(C instanceof i.bindingContext))?C:new i.bindingContext(i.utils.unwrapObservable(C));var H=typeof(E)=="function"?E(F["$data"]):E;var G=t(A,D,H,F,y);if(D=="replaceNode"){A=G;x=q(A)}},null,{disposeWhen:z,disposeWhenNodeIsRemoved:B})}else{return i.memoization.memoize(function(F){i.renderTemplate(E,C,y,F,"replaceNode")})}};i.renderTemplateForEach=function(E,D,z,B,y){var x;var A=function(F,G){var H=typeof(E)=="function"?E(F):E;x=y.createChildContext(i.utils.unwrapObservable(F));x["$index"]=G;return t(null,"ignoreTargetNode",H,x,z)};var C=function(G,H,F){r(H,x);if(z.afterRender){z.afterRender(H,G)}};return i.dependentObservable(function(){var G=i.utils.unwrapObservable(D)||[];if(typeof G.length=="undefined"){G=[G]}var F=i.utils.arrayFilter(G,function(H){return z.includeDestroyed||H===e||H===null||!i.utils.unwrapObservable(H._destroy)});i.utils.setDomNodeChildrenFromArrayMapping(B,F,A,z,C)},null,{disposeWhenNodeIsRemoved:B})};var v="__ko__templateSubscriptionDomDataKey__";function u(y,z){var x=i.utils.domData.get(y,v);if(x&&(typeof(x.dispose)=="function")){x.dispose()}i.utils.domData.set(y,v,z)}i.bindingHandlers.template={init:function(A,y){var x=i.utils.unwrapObservable(y());if((typeof x!="string")&&(!x.name)&&(A.nodeType==1||A.nodeType==8)){var B=A.nodeType==1?A.childNodes:i.virtualElements.childNodes(A),z=i.utils.moveCleanedNodesToContainerElement(B);new i.templateSources.anonymousTemplate(A)["nodes"](z)}return{controlsDescendantBindings:true}},update:function(y,G,z,B,F){var C=i.utils.unwrapObservable(G());var A;var E=true;if(typeof C=="string"){A=C}else{A=C.name;if("if" in C){E=E&&i.utils.unwrapObservable(C["if"])}if("ifnot" in C){E=E&&!i.utils.unwrapObservable(C.ifnot)}}var x=null;if((typeof C==="object")&&("foreach" in C)){var H=(E&&C.foreach)||[];x=i.renderTemplateForEach(A||y,H,C,y,F)}else{if(E){var D=(typeof C=="object")&&("data" in C)?F.createChildContext(i.utils.unwrapObservable(C.data)):F;x=i.renderTemplate(A||y,D,C,y)}else{i.virtualElements.emptyNode(y)}}u(y,x)}};i.jsonExpressionRewriting.bindingRewriteValidators.template=function(x){var y=i.jsonExpressionRewriting.parseObjectLiteral(x);if((y.length==1)&&y[0]["unknown"]){return null}if(i.jsonExpressionRewriting.keyValueArrayContainsKey(y,"name")){return null}return"This template engine does not support anonymous templates nested within its templates"};i.virtualElements.allowedBindings.template=true})();i.exportSymbol("setTemplateEngine",i.setTemplateEngine);i.exportSymbol("renderTemplate",i.renderTemplate);(function(){function r(z,C,t){var H=[];for(var A=0;A<=C.length;A++){H[A]=[]}for(var A=0,B=Math.min(z.length,t);A<=B;A++){H[0][A]=A}for(var A=1,B=Math.min(C.length,t);A<=B;A++){H[A][0]=A}var s,v=z.length,y,w=C.length;var D,u;for(s=1;s<=v;s++){var E=Math.max(1,s-t);var F=Math.min(w,s+t);for(y=E;y<=F;y++){if(z[s-1]===C[y-1]){H[y][s]=H[y-1][s-1]}else{var x=H[y-1][s]===e?Number.MAX_VALUE:H[y-1][s]+1;var G=H[y][s-1]===e?Number.MAX_VALUE:H[y][s-1]+1;H[y][s]=Math.min(x,G)}}}return H}function q(s,B,x){var C=B.length;var v=x.length;var A=[];var t=s[v][C];if(t===e){return null}while((C>0)||(v>0)){var z=s[v][C];var y=(v>0)?s[v-1][C]:t+1;var w=(C>0)?s[v][C-1]:t+1;var u=(v>0)&&(C>0)?s[v-1][C-1]:t+1;if((y===e)||(y<z-1)){y=t+1}if((w===e)||(w<z-1)){w=t+1}if(u<z-1){u=t+1}if((y<=w)&&(y<u)){A.push({status:"added",value:x[v-1]});v--}else{if((w<y)&&(w<u)){A.push({status:"deleted",value:B[C-1]});C--}else{A.push({status:"retained",value:B[C-1]});v--;C--}}}return A.reverse()}i.utils.compareArrays=function(t,v,u){if(u===e){return i.utils.compareArrays(t,v,1)||i.utils.compareArrays(t,v,10)||i.utils.compareArrays(t,v,Number.MAX_VALUE)}else{t=t||[];v=v||[];var s=r(t,v,u);return q(s,t,v)}}})();i.exportSymbol("utils.compareArrays",i.utils.compareArrays);(function(){function s(w){if(w.length>2){var v=w[0],t=w[w.length-1],u=[v];while(v!==t){v=v.nextSibling;if(!v){return}u.push(v)}Array.prototype.splice.apply(w,[0,w.length].concat(u))}}function r(u,v,y,t,z){var w=[];var x=i.dependentObservable(function(){var A=v(y,z)||[];if(w.length>0){s(w);i.utils.replaceDomNodes(w,A);if(t){t(y,A)}}w.splice(0,w.length);i.utils.arrayPushAll(w,A)},null,{disposeWhenNodeIsRemoved:u,disposeWhen:function(){return(w.length==0)||!i.utils.domNodeIsAttachedToDocument(w[0])}});return{mappedNodes:w,dependentObservable:x}}var q="setDomNodeChildrenFromArrayMapping_lastMappingResult";i.utils.setDomNodeChildrenFromArrayMapping=function(N,R,x,G,w){R=R||[];G=G||{};var C=i.utils.domData.get(N,q)===e;var F=i.utils.domData.get(N,q)||[];var v=i.utils.arrayMap(F,function(U){return U.arrayEntry});var M=i.utils.compareArrays(v,R);var S=[];var B=0;var L=[];var y=0;var A=[];var J=null;for(var I=0,E=M.length;I<E;I++){switch(M[I].status){case"retained":var t=F[B];t.indexObservable(y);y=S.push(t);if(t.domNodes.length>0){J=t.domNodes[t.domNodes.length-1]}B++;break;case"deleted":F[B].dependentObservable.dispose();s(F[B].domNodes);i.utils.arrayForEach(F[B].domNodes,function(U){L.push({element:U,index:I,value:M[I].value});J=U});B++;break;case"added":var D=M[I].value;var u=i.observable(y);var P=r(N,x,D,w,u);var Q=P.mappedNodes;y=S.push({arrayEntry:M[I].value,domNodes:Q,dependentObservable:P.dependentObservable,indexObservable:u});for(var T=0,O=Q.length;T<O;T++){var z=Q[T];A.push({element:z,index:I,value:M[I].value});if(J==null){i.virtualElements.prepend(N,z)}else{i.virtualElements.insertAfter(N,z,J)}J=z}if(w){w(D,Q,u)}break}}i.utils.arrayForEach(L,function(U){i.cleanNode(U.element)});var H=false;if(!C){if(G.afterAdd){for(var I=0;I<A.length;I++){G.afterAdd(A[I].element,A[I].index,A[I].value)}}if(G.beforeRemove){for(var I=0;I<L.length;I++){G.beforeRemove(L[I].element,L[I].index,L[I].value)}H=true}}if(!H&&L.length){for(var I=0;I<L.length;I++){var K=L[I].element;if(K.parentNode){K.parentNode.removeChild(K)}}}i.utils.domData.set(N,q,S)}})();i.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping);i.nativeTemplateEngine=function(){this["allowTemplateRewriting"]=false};i.nativeTemplateEngine.prototype=new i.templateEngine();i.nativeTemplateEngine.prototype.renderTemplateSource=function(r,v,q){var w=!(i.utils.ieVersion<9),u=w?r.nodes:null,s=u?r.nodes():null;if(s){return i.utils.makeArray(s.cloneNode(true).childNodes)}else{var t=r.text();return i.utils.parseHtmlFragment(t)}};i.nativeTemplateEngine.instance=new i.nativeTemplateEngine();i.setTemplateEngine(i.nativeTemplateEngine.instance);i.exportSymbol("nativeTemplateEngine",i.nativeTemplateEngine);(function(){i.jqueryTmplTemplateEngine=function(){var s=this.jQueryTmplVersion=(function(){if((typeof(jQuery)=="undefined")||!(jQuery.tmpl)){return 0}try{if(jQuery.tmpl["tag"]["tmpl"]["open"].toString().indexOf("__")>=0){return 2}}catch(u){}return 1})();function r(){if(s<2){throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}}function t(w,u,v){return jQuery.tmpl(w,u,v)}this["renderTemplateSource"]=function(w,B,v){v=v||{};r();var u=w.data("precompiled");if(!u){var x=w.text()||"";x="{{ko_with $item.koBindingContext}}"+x+"{{/ko_with}}";u=jQuery.template(null,x);w.data("precompiled",u)}var y=[B["$data"]];var A=jQuery.extend({koBindingContext:B},v.templateOptions);var z=t(u,y,A);z.appendTo(d.createElement("div"));jQuery.fragments={};return z};this["createJavaScriptEvaluatorBlock"]=function(u){return"{{ko_code ((function() { return "+u+" })()) }}"};this["addTemplate"]=function(u,v){d.write("<script type='text/html' id='"+u+"'>"+v+"</script>")};if(s>0){jQuery.tmpl["tag"]["ko_code"]={open:"__.push($1 || '');"};jQuery.tmpl["tag"]["ko_with"]={open:"with($1) {",close:"} "}}};i.jqueryTmplTemplateEngine.prototype=new i.templateEngine();var q=new i.jqueryTmplTemplateEngine();if(q.jQueryTmplVersion>0){i.setTemplateEngine(q)}i.exportSymbol("jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)})()})})(window,document,navigator);